# 求1+2+...+n

[链接](https://www.nowcoder.com/practice/7a0da8fc483247ff8800059e12d7caf1?tpId=13&tqId=11200&tPage=3&rp=3&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking)

求1+2+3+...+n，要求不能使用乘除法、for、while、if、else、switch、case等关键字及条件判断语句（A?B:C）。



这个题考验C++的熟练运用啊，我跪了...

官方解法1方法是利用构造函数求解，建立一个用来求解的类，类中定义2个静态成员变量 t=0 和 s=0 ，每次构造 t 值加1，s 值加 n，构造 n 次即可求出。



官方解法2想法是利用递归来代替循环，但是会出现一个问题，就是无法判断递归到什么时候结束（不用if等语句）。那么不妨定义两个类，一个类的成员函数充当递归角色，另一个类的成员函数用于处理终止递归。如何实现两个类的二选一呢，我很可以巧妙利用(!!n)，n两次取反之后，0还是0，非0值变成1，用它来当类构成的数组下标即可。

我们定义两个类，父类用于处理递归终止情况，子类用于正常递归计算，用父类指针指向这两个类构成的数组，!!n作为下标访问即可完成计算。



官方解法3同样是递归思想，和解法2不同的是它利用函数指针指向的两个函数构成的数组。函数f[0]是返回0，f[1]是正常的求解过程，我们同样利用n的两次取反 f[!!n] 来决定用f[0]还是f[1]：当n为0，两次取反为0；当n不为0，两次取反为1。



官方解法4用模板类型，具体代码和思路见参考书吧，我还不是很懂。