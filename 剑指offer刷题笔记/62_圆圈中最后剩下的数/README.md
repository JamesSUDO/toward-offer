# 圆圈中最后剩下的数

[链接](https://www.nowcoder.com/practice/f78a359491e64a50bce2d89cff857eb6?tpId=13&tqId=11199&tPage=3&rp=3&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking)

0，1，2，···，n-1这n个数字排成一个圆圈，从数字0开始，每次从这个圆圈里删除第m个数字。求出这个圆圈里剩下的最后一个数字。



我的解法是用vector来模拟，每次遍历找到目标元素，把此元素在vector中删除，直到找到vector的最后剩下的一个元素。



官方解法1是建立链表，然后用链表来模拟删除过程，找到最后一个元素。



官方解法是找数字的规律，时间复杂度o(n)，空间复杂度o(1)。核心思想是建立删掉元素后每一个数的位置的前后映射关系，找到递推关系式。假设第一次删掉第k个元素，然后剩下的元素按顺序为：0, 1, 2, ......k - 1, k + 1, k + 2, ...... n- 1，然后新序列要以 k + 1 为第一项，得到前后映射关系如下：

```
k + 1  ->  0

k + 2  ->  1

...

n - 1  ->  n - k - 2

0      ->  n - k - 1
1      ->  n - k
...
k - 1  ->  n - 2
```

设映射前是x，映射后是x'，前后对应关系式为：

x = (x' + k + 1) % n

若每次找的都是第m个，则k与m满足如下关系：

k = (m - 1) % n

把k替换成m代入映射关系式得：

x = (x' + m) % n

设关于 n，m 的方程 f(n, m) 表示每次在n个数字中删除第m个数字最后剩下的数字，有关系式：
$$
f(n,m)=\left\{
\begin{aligned}
& 0 & n = 1 \\
& [f(n - 1, m) + m] \% n & n > 1
\end{aligned} 
\right.
$$
由此公式，用循环或递归均可解决。

