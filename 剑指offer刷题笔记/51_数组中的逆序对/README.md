# 数组中的逆序对

[链接](https://www.nowcoder.com/practice/96bd6684e04a44eb80e6a68efc0ec6c5?tpId=13&tqId=11188&tPage=2&rp=2&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking)

在数组中的两个数字，如果前面一个数字大于后面的数字，则这两个数字组成一个逆序对。输入一个数组,求出这个数组中的逆序对的总数P。并将P对1000000007取模的结果输出。 即输出P%1000000007。

输入描述：

```
题目保证输入的数组中没有的相同的数字
数据范围： 
		对于%50的数据,size<=10^4	
		对于%75的数据,size<=10^5	
		对于%100的数据,size<=2*10^5
```



我的解法是暴力法，直接两层循环遍历所有对，找到符合条件的，运行超时。



官方解法使用归并排序思想，归并排序的过程中包含了两两数字的比较，具体原理可参考归并排序原理。注意当发现i指向数字大于j指向的数字时，更新count所执行的操作不是+1，而是 + (mid - i + 1)。

还有要注意的一点是题意中说要输出的数字是对1000000007取模运算。这个要求暗示我们结果可能会为9位数或超过9位数，因此要小心如果定义int类型的count有溢出的风险。为了验证位数，我们看数据范围，25%的数据size大于10^5，对于10^5有大约(10^5)^2对，显然超过了int范围。因此，我们这里要定义count为 long类型。